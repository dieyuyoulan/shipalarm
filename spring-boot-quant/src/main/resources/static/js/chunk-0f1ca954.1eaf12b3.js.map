{"version":3,"sources":["webpack:///./src/views/weather.vue?89cd","webpack:///./src/views/weather.vue","webpack:///./src/views/weather.vue?3285"],"names":["class","id","type","placeholder","city","queryWeather","hotCitys","href","clickSearch","forecastList","item","index","key","date","style","low","high","name","data","mounted","this","getCity","methods","request","get","then","res","console","log","forecast","catch","err","finally","searchWeather","that","response","weatherList","getLocation","BMap","Geolocation","_this","getCurrentPosition","position","address","substring","locationMsg","provider","render","__scopeId"],"mappings":"kHAAA,W,6HCCOA,MAAM,OAAOC,GAAG,O,GACdD,MAAM,e,GACJA,MAAM,c,GAMNA,MAAM,U,iBAQTA,MAAM,gB,GAEDA,MAAM,a,GACHA,MAAM,Y,GAETA,MAAM,a,iBACW,O,GAKjBA,MAAM,a,gDA3BjB,eAgCM,MAhCN,EAgCM,CA/BJ,eAcM,MAdN,EAcM,CAbJ,eAKM,MALN,EAKM,C,gBAJJ,eAAyG,SAAlGE,KAAK,OAAOF,MAAM,YAAYG,YAAY,W,qDAAoB,EAAAC,KAAI,IAAG,QAAK,+CAAQ,EAAAC,cAAA,EAAAA,aAAA,qBAAY,a,oBAAhC,EAAAD,QACrE,eAES,UAFDJ,MAAM,YAAa,QAAK,8BAAE,EAAAK,cAAA,EAAAA,aAAA,sBAAc,WAIlD,eAMM,MANN,EAMM,E,mBADJ,eAAyF,2BAAnD,EAAAC,UAAQ,SAAhBF,G,wBAA9B,eAAyF,KAAtFG,KAAK,eAAyC,QAAK,mBAAE,EAAAC,YAAYJ,K,eAAUA,GAAI,Q,UAGtF,eAeK,KAfL,EAeK,E,mBAdH,eAaK,2BAbsB,EAAAK,cAAY,SAA3BC,EAAKC,G,wBAAjB,eAaK,MAbqCC,IAAKF,EAAKG,KAAOC,MAAK,gCAAwB,IAALH,EAAK,Q,CACtF,eAEM,MAFN,EAEM,CADJ,eAA6C,OAA7C,EAA6C,eAAnBD,EAAKR,MAAI,KAErC,eAKM,MALN,EAKM,CAJJ,eAAoB,wBAAdQ,EAAKK,KAAG,G,EAEd,eAAqB,wBAAfL,EAAKM,MAAI,KAGjB,eAEM,MAFN,EAEM,CADJ,eAA4B,2BAAnBN,EAAKG,MAAI,M,2DAUb,GACbI,KAAM,UACNC,KAFa,WAGX,MAAM,CACJd,KAAM,GACNK,aAAc,GACdH,SAAU,CAAC,KAAM,KAAM,KAAM,QAGjCa,QATa,WAUXC,KAAKC,WAEPC,QAAS,CACPjB,aADO,WACQ,WACbe,KAAKX,aAAe,GACpBc,EAAA,KAAQC,IAAR,qDAA0DJ,KAAKhB,OAC1DqB,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACZ,EAAKjB,aAAeiB,EAAIR,KAAKW,YAE9BC,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,MAEbC,SAAQ,gBAEfxB,YAbO,SAaKJ,GACVgB,KAAKhB,KAAOA,EACZgB,KAAKf,gBAEP4B,cAAc,WAKZ,IAAIC,EAAOd,KACXG,EAAA,KAAQC,IAAI,8CAA8CJ,KAAKhB,MAC1DqB,MAAK,SAASU,GAEbR,QAAQC,IAAIO,EAASjB,KAAKW,UAC1BK,EAAKE,YAAcD,EAASjB,KAAKW,YAElCC,OAAM,SAASC,QAEtBV,QA/BO,WA+BG,WACFgB,EAAc,IAAIC,KAAKC,YACzBC,EAAQpB,KACZiB,EAAYI,oBAAmB,SAACC,GAI9B,IAAItC,EAAOsC,EAASC,QAAQvC,KAE5B,EAAKA,KAAOA,EAAKwC,UAAU,EAAG,MAE7B,WACDJ,EAAMK,YAAc,UACnB,CAACC,SAAU,a,UC1FpB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-0f1ca954.1eaf12b3.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./weather.vue?vue&type=style&index=0&id=522af0f6&scoped=true&lang=css\"","<template>\r\n  <div class=\"wrap\" id=\"app\">\r\n    <div class=\"search_form\">\r\n      <div class=\"form_group\">\r\n        <input type=\"text\" class=\"input_txt\" placeholder=\"请输入查询的天气\" v-model=\"city\" @keyup.enter=\"queryWeather\" />\r\n        <button class=\"input_sub\" @click=\"queryWeather\">\r\n          搜 索\r\n        </button>\r\n      </div>\r\n      <div class=\"hotkey\">\r\n<!--          <a href=\"javascript:;\" @click=\"clickSearch('北京')\">北京</a>-->\r\n<!--          <a href=\"javascript:;\" @click=\"clickSearch('上海')\">上海</a>-->\r\n<!--          <a href=\"javascript:;\" @click=\"clickSearch('广州')\">广州</a>-->\r\n<!--          <a href=\"javascript:;\" @click=\"clickSearch('深圳')\">深圳</a>-->\r\n        <a href=\"javascript:;\" v-for=\"city in hotCitys\" @click=\"clickSearch(city)\">{{ city }}</a>\r\n      </div>\r\n    </div>\r\n    <ul class=\"weather_list\">\r\n      <li v-for=\"(item,index) in forecastList\" :key=\"item.date\" :style=\"{transitionDelay:index*100+'ms'}\">\r\n        <div class=\"info_type\">\r\n          <span class=\"iconfont\">{{ item.type }}</span>\r\n        </div>\r\n        <div class=\"info_temp\">\r\n          <b>{{ item.low}}</b>\r\n          ~\r\n          <b>{{ item.high}}</b>\r\n\r\n        </div>\r\n        <div class=\"info_date\">\r\n          <span>{{ item.date }}</span>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../utils/request\";\r\n\r\nexport default {\r\n  name: \"weather\",\r\n  data(){\r\n    return{\r\n      city: \"\",\r\n      forecastList: [],\r\n      hotCitys: [\"北京\", \"上海\", \"广州\", \"深圳\"]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getCity()\r\n  },\r\n  methods: {\r\n    queryWeather() {\r\n      this.forecastList = [];\r\n      request.get(`http://wthrcdn.etouch.cn/weather_mini?city=${this.city}`)\r\n          .then(res => {\r\n            console.log(res);\r\n            this.forecastList = res.data.forecast;\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          })\r\n          .finally(() => { });\r\n    },\r\n    clickSearch(city) {\r\n      this.city = city;\r\n      this.queryWeather();\r\n    },\r\n    searchWeather:function(){\r\n      //  console.log('天气查询');\r\n      //  console.log(this.city);\r\n      // 调用接口\r\n      // 保存this\r\n      var that = this;\r\n      request.get('http://wthrcdn.etouch.cn/weather_mini?city='+this.city)\r\n          .then(function(response){\r\n            // console.log(response);\r\n            console.log(response.data.forecast);\r\n            that.weatherList = response.data.forecast\r\n          })\r\n          .catch(function(err){})\r\n    },\r\n    getCity() {\r\n      const getLocation = new BMap.Geolocation();\r\n      var _this = this;\r\n      getLocation.getCurrentPosition((position) => {\r\n        // position中存放所有的定位数据\r\n        // console.log(position);\r\n        // 这里获取的是城市和省\r\n        let city = position.address.city;\r\n\r\n        this.city = city.substring(0, 2);\r\n\r\n      }, () => {\r\n        _this.locationMsg = '定位失败!';\r\n      }, {provider: 'baidu'});\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search_form{\r\n  width:640px;\r\n  margin:100px auto 0;\r\n}\r\n.form_group{\r\n  width:640px;\r\n  height:40px;\r\n  margin-top:45px;\r\n}\r\n.input_txt{\r\n  width:538px;\r\n  height:38px;\r\n  padding:0px;\r\n  float:left;\r\n  border:1px solid #41a1cb;\r\n  outline:none;\r\n  text-indent:10px;\r\n}\r\n.input_sub{\r\n  width:100px;\r\n  height:40px;\r\n  border:0px;\r\n  float: left;\r\n  background-color: #41a1cb;\r\n  color:#fff;\r\n  font-size:16px;\r\n  outline:none;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n.input_sub.loading::before{\r\n  content:'';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.hotkey{\r\n  margin:3px 0 0 2px;\r\n}\r\n.hotkey a{\r\n  font-size:14px;\r\n  color:#666;\r\n  padding-right:15px;\r\n}\r\n.weather_list{\r\n  height:200px;\r\n  text-align:center;\r\n  margin-top:50px;\r\n  font-size:0px;\r\n}\r\n.weather_list li{\r\n  display:inline-block;\r\n  width:140px;\r\n  height:200px;\r\n  padding:0 10px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-size: 1px 130px;\r\n}\r\n\r\n.weather_list li:last-child{\r\n  background:none;\r\n}\r\n.info_date{\r\n  width:100%;\r\n  height:40px;\r\n  line-height:40px;\r\n  color: #2d6e99;\r\n  font-size:14px;\r\n  left:0px;\r\n  bottom:0px;\r\n  margin-top: 15px;\r\n}\r\n.info_date b{\r\n  float: left;\r\n  margin-left:15px;\r\n}\r\n.info_type span{\r\n  color: #073689;\r\n  font-size:30px;\r\n  line-height:80px;\r\n}\r\n.info_temp{\r\n  font-size:14px;\r\n  color:#073689;\r\n}\r\n.info_temp b{\r\n  font-size:13px;\r\n}\r\n</style>","import { render } from \"./weather.vue?vue&type=template&id=522af0f6&scoped=true\"\nimport script from \"./weather.vue?vue&type=script&lang=js\"\nexport * from \"./weather.vue?vue&type=script&lang=js\"\n\nimport \"./weather.vue?vue&type=style&index=0&id=522af0f6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-522af0f6\"\n\nexport default script"],"sourceRoot":""}