(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffe9f906"],{"25f0":function(t,e,n){"use strict";var c=n("6eeb"),o=n("825a"),s=n("577e"),i=n("d039"),u=n("ad6d"),l="toString",r=RegExp.prototype,a=r[l],b=i((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),f=a.name!=l;(b||f)&&c(RegExp.prototype,l,(function(){var t=o(this),e=s(t.source),n=t.flags,c=s(void 0===n&&t instanceof RegExp&&!("flags"in r)?u.call(t):n);return"/"+e+"/"+c}),{unsafe:!0})},2762:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),o={class:"chatroomBox"},s={class:"contentBox"},i=Object(c["p"])("发送消息");function u(t,e,n,u,l,r){var a=Object(c["R"])("el-input"),b=Object(c["R"])("el-col"),f=Object(c["R"])("el-button"),d=Object(c["R"])("el-row");return Object(c["I"])(),Object(c["m"])("div",o,[Object(c["n"])("ul",s,[(Object(c["I"])(!0),Object(c["m"])(c["b"],null,Object(c["P"])(l.logs,(function(t,e){return Object(c["I"])(),Object(c["m"])("li",{class:"messageItem",key:e},[Object(c["n"])("p",null,Object(c["V"])(t),1)])})),128))]),Object(c["q"])(d,{gutter:20},{default:Object(c["gb"])((function(){return[Object(c["q"])(b,{span:12},{default:Object(c["gb"])((function(){return[Object(c["q"])(a,{modelValue:l.message,"onUpdate:modelValue":e[0]||(e[0]=function(t){return l.message=t}),placeholder:"请输入内容"},null,8,["modelValue"])]})),_:1}),Object(c["q"])(b,{span:12},{default:Object(c["gb"])((function(){return[Object(c["q"])(f,{onClick:r.mqttPublish,type:"success",round:""},{default:Object(c["gb"])((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])}n("d3b7"),n("25f0"),n("e7fc");var l={name:"test",data:function(){return{client:"",message:"",logs:[]}},mounted:function(){this.initMqtt(),this.mqttReceive()},methods:{initMqtt:function(){var t=this,e="ws://mq.tongxinmao.com:18832/mqtt",c=n("e7fc"),o={clientId:"mqttjs_"+Math.random().toString(16).substr(2,8)};t.client=c.connect(e,o),this.client.on("connect",(function(){console.log("连接成功....")})),t.client.on("error",(function(e){console.log("err=>",e),t.client.end()}))},mqttPublish:function(){var t="topic/response";this.client.publish(t,JSON.stringify(this.message))},mqttReceive:function(){var t="topic/response",e=this;e.client.subscribe(t,(function(t){t?console.log("err",t):console.log("subscribe success!")})),e.client.on("message",(function(t,n){e.logs.push(n)}))}},destroyed:function(){this.client.end&&this.client.end()}};l.render=u;e["default"]=l}}]);
//# sourceMappingURL=chunk-ffe9f906.d67759a6.js.map